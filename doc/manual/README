
                                     Docbook Toolchain Setup and Usage
                                     =================================
 
   Installation
   ------------

	1. Install `xsltproc`.
	2. Get the latest Docbook XSL stylesheet distribution from:
	   https://sourceforge.net/projects/docbook/files/docbook-xsl/

	   ...or via your distribution's package repository.

	   The latest recommended docbook-xsl stylesheet version is 1.79.1.
	   Version 1.79.2 and later distributed on GitHub
	   introduced a namespace that our stylesheets don't support (yet).
	   See: https://github.com/Netatalk/netatalk/issues/318
	   
	3. Unpack the docbook-xsl tarball to a temporary location,
	   or identify where your distro installed them if you used a package.


   Usage
   -----

	Preparation:

	1. Clone the Netatalk repo with git
	2. `cd` to "doc/manual"

	Create man pages:

	3. Generate man pages from xml sources
	   $ XSL=<absolute path to docbook-xsl dir> make man
	4. Copy the generated man pages to the correct locations in the code repo
	   $ make install

	Create HTML:

	5. Generate the html pages from xml sources
	   $ XSL=<absolute path to docbook-xsl dir> make html
	   The generated html files are then inside the directory html.
	6. Upload the generated html files to SourceForge: (admins only)
	   $ USER=<SourceForge user> make html-upload

	Clean-up:

	7. Remove the generated files in tmp/ before running the script again.
	   $ make clean

   Editing Docbook Sources
   -----------------------

	Free WYSIWYG editor with only one minor drawback is XMLEditor from XMLmind:
	https://www.xmlmind.com/xmleditor/

	Drawback: in order to be able to edit any of the  nested xml files, you have to "promote" them to valid Docbook
	files by referencing the Docbook DTD: insert as line 2+3:
	
		<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
		"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

	These changes will however prevent XMLeditor from opening the master xml file manual.xml. Before further processing
	can be done these changes then have to be reverted for any changed file.
